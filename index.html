<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donation Page</title> 
    <link rel="stylesheet" href="styles/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/15717b909b.js" crossorigin="anonymous"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .transition-height {
            transition: max-height 0.3s ease;
        }
    </style>
</head>
<body class="lexend-font">
    <header>
        <nav id="navbar" class="flex flex-col md:flex-row items-center justify-between p-4 bg-[#F9F7F3] transition-all duration-300">
            <a href="#" id="homeButton" class="bg-lime-400 text-black font-semibold px-4 py-2 rounded-md mb-4 md:mb-0 md:mr-4">Home</a>
            <div class="relative flex items-center justify-center mb-4 md:mb-0 md:absolute md:left-1/2 md:transform md:-translate-x-1/2">
                <img src="assets/logo.png" alt="Donate Icon" class="w-6 h-6">
                <h2 class="ml-2 font-bold text-center">Donate Bangladesh</h2>
            </div>
            <div class="flex items-center space-x-2 md:space-x-4">
                <img src="assets/coin.png" alt="Currency Icon" class="w-6 h-6">
                <p class="font-bold" id="availableBalance">5500 BDT</p>
            </div>
        </nav>
        
        <div class="flex justify-center space-x-4 mt-4">
            <button id="donateButton" class="bg-lime-400 text-black font-semibold px-6 py-2 rounded-md">
                Donate
            </button>
            <button id="historyButton" class="bg-white border-2 border-lime-400 text-black font-semibold px-6 py-2 rounded-md">
                History
            </button>
        </div>
    </header>
    
    <!-- Donation Sections -->
    <main class="max-w-screen-lg mx-auto">
        <section id="donationSection" class="hidden mt-20 mb-8 flex justify-center px-4 md:px-0 border border-2 rounded-md">
            <div class="flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-4 w-full max-w-screen-lg mt-8">
                <div class="w-full md:w-1/2 flex justify-center">
                    <img src="assets/noakhali.png" alt="Flood Image" class="w-full h-full max-w-md object-contain"> 
                </div>
                <div class="w-full md:w-1/2">
                    <div class="mt-4 md:mt-0 text-center md:text-left">
                        <div class="flex items-center justify-center md:justify-start mb-4">
                            <button id="donationTotalDisplay1" class="bg-gray-100 font-semibold py-2 px-4 rounded-md text-center flex items-center">
                                <img src="assets/coin.png" alt="Currency Icon" class="w-6 h-6 mr-2"> 
                                <span class="text-gray-700">0 BDT</span>
                            </button>
                        </div>
                        <h1 class="text-[#111111] font-bold text-xl md:text-2xl mb-2">Donate for Flood at Noakhali, Bangladesh</h1>
                        <p class="font-light text-sm md:text-base mb-4 max-w-[450px] mx-auto md:mx-0">
                            The recent floods in Noakhali have caused significant damage to homes and infrastructure. Your donation will help provide essential supplies to those affected by this disaster. Every contribution, big or small, makes a difference. Please join us in supporting the relief efforts and making a positive impact on the lives of those in need.
                        </p>
                        <input type="number" id="donationAmount1" class="border p-2 w-[90%] md:w-[450px] mb-4" placeholder="Enter donation amount">
                        <button id="donateNowButton1" class="bg-[#B4F461] text-black p-2 w-[90%] md:w-[450px] rounded-md text-lg mb-8">Donate Now</button>
                        <p id="errorMessage1" class="text-red-500 hidden">Invalid donation amount. Please enter a positive number.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="donationSection2" class="hidden mt-20 mb-8 flex justify-center px-4 md:px-0 border border-2 rounded-md">
            <div class="flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-4 w-full max-w-screen-lg mt-8">
                <div class="w-full md:w-1/2 flex justify-center">
                    <img src="assets/feni.png" alt="Flood Image" class="w-full h-full max-w-md object-contain"> 
                </div>
                <div class="w-full md:w-1/2">
                    <div class="mt-4 md:mt-0 text-center md:text-left">
                        <div class="flex items-center justify-center md:justify-start mb-4">
                            <button id="donationTotalDisplay2" class="bg-gray-100 font-semibold py-2 px-4 rounded-md text-center flex items-center">
                                <img src="assets/coin.png" alt="Currency Icon" class="w-6 h-6 mr-2"> 
                                <span class="text-gray-700">0 BDT</span>
                            </button>
                        </div>
                        <h1 class="text-[#111111] font-bold text-xl md:text-2xl mb-2">Donate for Flood Relief in Feni, Bangladesh</h1>
                        <p class="font-light text-sm md:text-base mb-4 max-w-[450px] mx-auto md:mx-0">
                            The recent floods in Feni have devastated local communities, leading to severe disruption and loss. Your generous donation will help provide immediate aid, including food, clean water, and medical supplies, to those affected by this calamity. Together, we can offer crucial support and help rebuild lives in the aftermath of this disaster. Please consider donating today to assist those in urgent need.
                        </p>
                        <input type="number" id="donationAmount2" class="border p-2 w-[90%] md:w-[450px] mb-4" placeholder="Enter donation amount">
                        <button id="donateNowButton2" class="bg-[#B4F461] text-black p-2 w-[90%] md:w-[450px] rounded-md text-lg mb-8">Donate Now</button>
                        <p id="errorMessage2" class="text-red-500 hidden">Invalid donation amount. Please enter a positive number.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="donationSection3" class="hidden mt-20 mb-8 flex justify-center px-4 md:px-0 border border-2 rounded-md">
            <div class="flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-4 w-full max-w-screen-lg mt-8">
                <div class="w-full md:w-1/2 flex justify-center">
                    <img src="assets/quota-protest.png" alt="Flood Image" class="w-full h-full max-w-md object-contain"> 
                </div>
                <div class="w-full md:w-1/2">
                    <div class="mt-4 md:mt-0 text-center md:text-left">
                        <div class="flex items-center justify-center md:justify-start mb-4">
                            <button id="donationTotalDisplay3" class="bg-gray-100 font-semibold py-2 px-4 rounded-md text-center flex items-center">
                                <img src="assets/coin.png" alt="Currency Icon" class="w-6 h-6 mr-2"> 
                                <span class="text-gray-700">0 BDT</span>
                            </button>
                        </div>
                        <h1 class="text-[#111111] font-bold text-xl md:text-2xl mb-2">Aid for Injured in the Quota Movement</h1>
                        <p class="font-light text-sm md:text-base mb-4 max-w-[450px] mx-auto md:mx-0">
                            The recent Quota movement has resulted in numerous injuries and significant hardship for many individuals. Your support is crucial in providing medical assistance, rehabilitation, and necessary supplies to those affected. By contributing, you help ensure that these individuals receive the care and support they need during this difficult time. Your kindness can make a lasting impact on their recovery journey.
                        </p>
                        <input type="number" id="donationAmount3" class="border p-2 w-[90%] md:w-[450px] mb-4" placeholder="Enter donation amount">
                        <button id="donateNowButton3" class="bg-[#B4F461] text-black p-2 w-[90%] md:w-[450px] rounded-md text-lg mb-8">Donate Now</button>
                        <p id="errorMessage3" class="text-red-500 hidden">Invalid donation amount. Please enter a positive number.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Success Modal -->
        <div id="successModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center">
            <div class="bg-white rounded-lg p-6 max-w-xs">
                <h2 class="font-bold text-lg mb-2">Donation Successful!</h2>
                <p class="mb-4">You have donated <span id="donationSuccessAmount" class="font-bold"></span> BDT.</p>
                <button id="closeSuccessModal" class="bg-lime-400 text-black px-4 py-2 rounded-md">Close</button>
            </div>
        </div>

        <!-- Donation History Modal -->
        <div id="historyModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex justify-center items-center">
            <div class="bg-white rounded-lg p-6 max-w-lg">
                <h2 class="font-bold text-lg mb-2">Donation History</h2>
                <div id="donationHistory" class="mb-4"></div>
                <button id="clearHistoryButton" class="bg-red-500 text-white px-4 py-2 rounded-md mb-2">Clear History</button>
                <button id="closeHistoryModal" class="bg-lime-400 text-black px-4 py-2 rounded-md">Close</button>
            </div>
        </div>
    </main>

    <script>
        let availableBalance = 5500;

        document.getElementById('donateButton').addEventListener('click', function() {
            document.getElementById('donationSection').classList.remove('hidden');
            document.getElementById('donationSection2').classList.remove('hidden');
            document.getElementById('donationSection3').classList.remove('hidden');
        });

        // Update donation function
        function updateDonation(amountInputId, displayId, errorMessageId) {
            const amount = parseFloat(document.getElementById(amountInputId).value);

            if (amount > 0 && amount <= availableBalance) {
                // Update available balance and section total
                availableBalance -= amount;
                document.getElementById('availableBalance').innerText = availableBalance + ' BDT';
                const totalDisplay = document.getElementById(displayId);
                const currentTotal = parseFloat(totalDisplay.innerText) || 0;
                totalDisplay.innerText = (currentTotal + amount).toFixed(2) + ' BDT';

                // Show success modal
                document.getElementById('donationSuccessAmount').innerText = amount.toFixed(2);
                document.getElementById('successModal').classList.remove('hidden');
                
                // Clear input field
                document.getElementById(amountInputId).value = '';
                document.getElementById(errorMessageId).classList.add('hidden');
            } else {
                // Show error message
                document.getElementById(errorMessageId).classList.remove('hidden');
            }
        }

        document.getElementById('donateNowButton1').addEventListener('click', function() {
            updateDonation('donationAmount1', 'donationTotalDisplay1', 'errorMessage1');
            recordDonation(document.getElementById('donationAmount1').value, "Flood at Noakhali, Bangladesh");
        });

        document.getElementById('donateNowButton2').addEventListener('click', function() {
            updateDonation('donationAmount2', 'donationTotalDisplay2', 'errorMessage2');
            recordDonation(document.getElementById('donationAmount2').value, "Flood Relief in Feni, Bangladesh");
        });

        document.getElementById('donateNowButton3').addEventListener('click', function() {
            updateDonation('donationAmount3', 'donationTotalDisplay3', 'errorMessage3');
            recordDonation(document.getElementById('donationAmount3').value, "Aid for Injured in the Quota Movement");
        });

        // Close success modal
        document.getElementById('closeSuccessModal').addEventListener('click', function() {
            document.getElementById('successModal').classList.add('hidden');
        });

        // Show donation history when history button is clicked
        document.getElementById('historyButton').addEventListener('click', function() {
            document.getElementById('historyModal').classList.remove('hidden');
        });

        // Close history modal
        document.getElementById('closeHistoryModal').addEventListener('click', function() {
            document.getElementById('historyModal').classList.add('hidden');
        });

        // Clear donation history
        document.getElementById('clearHistoryButton').addEventListener('click', function() {
            document.getElementById('donationHistory').innerHTML = '';
        });

        // Record donation in history
        function recordDonation(amount, cause) {
            const donationHistory = document.getElementById('donationHistory');
            const newEntry = document.createElement('div');
            newEntry.classList.add('border', 'p-2', 'rounded-md', 'shadow', 'my-2');
            newEntry.innerText = `${amount} BDT donated for ${cause}.`;
            donationHistory.appendChild(newEntry);
        }
    </script>
</body>
</html>
